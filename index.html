<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>ç”Ÿå‘½æ¢ç´¢æ¸¬é©— Â· å®‡å®™å·è»¸ v6ï¼ˆæ–¹æ¡ˆBï¼‰</title>
  <link rel="stylesheet" href="styles.css" />

<style>.volume-wrap{display:none!important}</style>

<style>
  /* === åŸºç¤è¨­å®š === */
  *, *::before, *::after { box-sizing: border-box; }
  html, body { height: 100%; }
  body {
    margin: 0;
    font-family: "Noto Sans TC","PingFang TC","Microsoft JhengHei","Heiti TC",system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
    color: #e9eef6;
    background: radial-gradient(1200px 800px at 10% 10%, rgba(255,255,255,0.12), transparent 60%),
                radial-gradient(1000px 700px at 90% 20%, rgba(255,255,255,0.08), transparent 60%),
                linear-gradient(120deg, #0f1226, #0b1638 40%, #0d1a4d 70%, #0a1230);
    min-height: 100dvh;
    overflow-x: hidden;
  }

  /* å‹•æ…‹æŸ”å½©é›²æ°£ */
  body::before {
    content: "";
    position: fixed;
    inset: -20vmax;
    background: radial-gradient(closest-side, rgba(255,154,158,0.10), transparent 60%) 10% 20% / 50vmax 50vmax no-repeat,
                radial-gradient(closest-side, rgba(250,208,196,0.12), transparent 60%) 80% 10% / 45vmax 45vmax no-repeat,
                radial-gradient(closest-side, rgba(206,180,255,0.10), transparent 60%) 70% 70% / 60vmax 60vmax no-repeat,
                radial-gradient(closest-side, rgba(152,245,255,0.12), transparent 60%) 20% 80% / 55vmax 55vmax no-repeat;
    filter: blur(35px) saturate(115%);
    animation: drift 30s ease-in-out infinite alternate;
    pointer-events: none;
    z-index: -1;
  }
  @keyframes drift {
    from { transform: translate3d(-2%, -2%, 0) scale(1); }
    to   { transform: translate3d(2%, 2%, 0) scale(1.05); }
  }

  /* æ˜Ÿé»ç´‹ç† */
  body::after {
    content: "";
    position: fixed;
    inset: 0;
    background-image:
      radial-gradient(rgba(255,255,255,0.10) 0.8px, transparent 0.8px),
      radial-gradient(rgba(255,255,255,0.06) 0.8px, transparent 0.8px);
    background-size: 2px 2px, 3px 3px;
    background-position: 0 0, 1px 1px;
    opacity: .35;
    pointer-events: none;
    z-index: -1;
  }

  /* è‹¥ä½ çš„ script.js æœƒç•«æ˜Ÿç©ºï¼Œä¿æŒé€™å…©å±¤å¯è¦‹ä½†ä¸æ“‹äº’å‹• */
  #space, .nebula {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -2;
  }

  /* === å…§å®¹å€ === */
  section {
    width: min(960px, 92vw);
    margin: clamp(24px, 6vh, 72px) auto;
  }

  /* é–‹å ´ç™½èˆ‡çµæœåšæˆç»ç’ƒå¡ç‰‡é¢¨ */
  #intro, #resultPage {
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.22);
    border-radius: 18px;
    padding: clamp(20px, 4vw, 40px);
    backdrop-filter: blur(12px) saturate(115%);
    box-shadow: 0 10px 30px rgba(0,0,0,0.35);
  }
  #intro h1 {
    font-weight: 700;
    line-height: 1.35;
    letter-spacing: .5px;
    margin: 0 0 16px;
    font-size: clamp(22px, 3.4vw, 36px);
  }

  /* è¡¨å–®å¡ç‰‡ */
  #formPage .form-card {
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.22);
    border-radius: 16px;
    padding: 20px;
    backdrop-filter: blur(10px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.30);
    display: grid;
    gap: 14px;
  }
  #formPage label {
    display: grid;
    gap: 8px;
    font-size: 15px;
  }
  #formPage input, #formPage select {
    width: 100%;
    padding: 10px 12px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.25);
    background: rgba(0,0,0,0.25);
    color: #f2f6ff;
    outline: none;
  }
  #formPage input:focus, #formPage select:focus {
    border-color: #9ec5ff;
    box-shadow: 0 0 0 4px rgba(158,197,255,0.18);
  }

  /* çµæœå¡ç‰‡å®¹å™¨ */
  #resultCards {
    margin-top: 16px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 14px;
  }
  #resultCards > * {
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 14px;
    padding: 14px;
  }

  /* === æŒ‰éˆ•æ¨£å¼ === */
  .btn-primary, .btn-secondary, .btn-outline, button[type="submit"] {
    --btn-bg: linear-gradient(135deg,#7aa6ff,#a588ff);
    --btn-text: #0d122b;
    --btn-shadow: 0 8px 20px rgba(82,118,255,.35);
    --btn-border: transparent;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: .5em;
    padding: 11px 18px;
    font-weight: 700;
    letter-spacing: .2px;
    border-radius: 14px;
    border: 1px solid var(--btn-border);
    background: var(--btn-bg);
    color: var(--btn-text);
    box-shadow: var(--btn-shadow);
    cursor: pointer;
    transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
  }
  .btn-primary:hover, .btn-secondary:hover, .btn-outline:hover, button[type="submit"]:hover {
    transform: translateY(-1px);
    filter: brightness(1.05);
  }
  .btn-secondary {
    --btn-bg: linear-gradient(135deg,#9cd3ff,#b9f1ff);
  }
  .btn-outline {
    --btn-bg: transparent;
    --btn-text: #cfdaff;
    --btn-border: rgba(255,255,255,0.45);
    box-shadow: 0 8px 18px rgba(0,0,0,0.25);
  }

  /* é€£çµåˆ†äº«å€å¡Š */
  #shareSection {
    margin: 10px 0 0;
  }

  /* === éŸ³æ¨‚æ§åˆ¶ï¼ˆåƒ…ä¿ç•™é–‹é—œï¼‰=== */
  .audio-ui {
    position: fixed;
    right: clamp(12px, 2vw, 24px);
    bottom: clamp(12px, 2vw, 24px);
    z-index: 20;
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px;
    background: rgba(255,255,255,0.10);
    border: 1px solid rgba(255,255,255,0.22);
    border-radius: 100px;
    backdrop-filter: blur(10px);
    box-shadow: 0 10px 24px rgba(0,0,0,0.35);
  }
  .music-toggle {
    width: 48px;
    height: 48px;
    display: grid;
    place-items: center;
    border: 1px solid rgba(255,255,255,0.35);
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(255,255,255,0.85), rgba(220,235,255,0.85));
    color: #0e1738;
    font-size: 22px; /* è®“ emoji æ›´æ¸…æ¥š */
    box-shadow: inset 0 0 12px rgba(255,255,255,0.65), 0 8px 24px rgba(0,0,0,0.35);
    cursor: pointer;
    transition: transform .12s ease, box-shadow .2s ease, filter .2s ease;
  }
  .music-toggle:hover {
    transform: translateY(-2px);
    filter: brightness(1.05);
  }

  /* éš±è—éŸ³é‡æ§åˆ¶ï¼ˆå»¶çºŒä½ çš„éœ€æ±‚ï¼‰ */
  .volume-wrap { display: none !important; }

  /* === å…¶ä»– === */
  .hidden { display: none !important; }

  /* è¡Œå‹•è£ç½®èª¿æ•´ */
  @media (max-width: 480px) {
    .music-toggle { width: 44px; height: 44px; font-size: 20px; }
    #resultCards { grid-template-columns: 1fr; }
  }
</style>

<style>
/* === Mobile-first ç‰ˆé¢å„ªåŒ– === */
:root{
  --radius: 16px;
  --pad: clamp(14px, 4vw, 18px);
}
html, body { height: 100%; }
body{
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}
/* å®¹å™¨ï¼šæ‰‹æ©Ÿé è¨­æ»¿ç‰ˆ + å·¦å³é–“è·ï¼Œæ¡Œæ©Ÿå†æ”¾å¯¬ */
section{
  width: 100%;
  max-width: 720px;
  padding: 0 16px;
  margin: max(16px, env(safe-area-inset-top)) auto 20px;
}
#intro, #resultPage{
  padding: var(--pad);
  border-radius: var(--radius);
}
#formPage .form-card{
  padding: var(--pad);
  border-radius: var(--radius);
  gap: 12px;
}
/* æŒ‡å°–å‹å–„å¤§å° */
button, .btn-primary, .btn-secondary, .btn-outline, button[type="submit"]{
  min-height: 48px;
  padding: 12px 16px;
  font-size: 16px;
  border-radius: 14px;
}
#formPage input, #formPage select, textarea{
  min-height: 44px;
  font-size: 16px;
  border-radius: 12px;
}
/* å¡ç‰‡åˆ—è¡¨ï¼šæ‰‹æ©Ÿå–®æ¬„ï¼Œæ¡Œæ©Ÿå‡ç´šå¤šæ¬„ */
#resultCards{
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
}
#resultCards > *{
  border-radius: 12px;
}
/* éŸ³æ¨‚æŒ‰éˆ•ï¼šé¿é–‹ç€æµ·èˆ‡ Home Indicator */
.audio-ui{
  right: max(12px, env(safe-area-inset-right));
  bottom: calc(12px + env(safe-area-inset-bottom));
}
/* éµç›¤å½ˆå‡ºæ™‚æŠŠæŒ‰éˆ•å¾€ä¸‹ç§»ï¼Œé¿å…é®ä½è¼¸å…¥æ¡† */
body.keyboard-open .audio-ui{
  transform: translateY(80px);
  opacity: .6;
  pointer-events: none;
}
/* æ¡Œæ©Ÿèˆ‡å¹³æ¿å¢å¼· */
@media (min-width: 640px){
  section{ max-width: 860px; }
  #resultCards{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (min-width: 960px){
  section{ max-width: 1000px; }
  #resultCards{ grid-template-columns: repeat(3, minmax(0,1fr)); }
}
/* å°Šé‡é™ä½å‹•æ…‹è¨­å®š */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration:.01ms!important; animation-iteration-count:1!important; transition-duration:.01ms!important; scroll-behavior:auto!important; }
}
@supports (height: 100dvh){
  body{ min-height: 100dvh; }
}
/* æ›´æ¸…æ¥šçš„éµç›¤/è¢å¹•é–±è®€å™¨ç„¦é» */
:focus-visible{
  outline: 3px solid rgba(158,197,255,0.6);
  outline-offset: 2px;
  border-radius: 12px;
}
</style>

<style>
/* === çµæœå¡ç‰‡èª¿æ•´å›åŸæœ¬æ¨£å¼ï¼Œç¨å¾®ç¸®å° === */
#resultCards{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
}
#resultCards > *{
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.18);
  border-radius: 10px;
  padding: 12px;
  font-size: 0.92rem;
}
</style>

<style>
/* === çµæœå¡ç‰‡ï¼šæ‰‹æ©Ÿå°ã€æ¡Œæ©Ÿå¤§ï¼ˆéŸ¿æ‡‰å¼ï¼‰=== */
#resultCards{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
  gap: 14px;
}
#resultCards > *{
  border-radius: 10px;
  padding: 12px;
  font-size: 0.92rem;
}
/* å¹³æ¿ */
@media (min-width: 640px){
  #resultCards{
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 16px;
  }
  #resultCards > *{
    border-radius: 12px;
    padding: 14px;
    font-size: 0.96rem;
  }
}
/* æ¡Œæ©Ÿ */
@media (min-width: 960px){
  #resultCards{
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
  }
  #resultCards > *{
    border-radius: 14px;
    padding: 16px;
    font-size: 1rem;
  }
}
</style>

<style>
/* === æ“ä½œåˆ—ï¼šæ©«å‘æ’åˆ—ï¼ˆå¯è‡ªå‹•æ›è¡Œï¼‰ === */
.actions-row{
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 10px;
  margin-top: 14px;
}
.actions-row > *{ margin: 0; }

/* === é‡æ–°æ¸¬é©—ï¼šå¼·åŒ–ä¸»å‹•ä½œæŒ‰éˆ• === */
.btn-retake{
  --btn-bg: linear-gradient(135deg,#ffb86b,#ff8ba7);
  --btn-text: #0d122b;
  --btn-border: rgba(255,255,255,0.55);
  --btn-glow: 0 10px 28px rgba(255,140,110,.40);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5em;
  padding: 12px 18px;
  min-height: 48px;
  font-weight: 800;
  letter-spacing: .2px;
  border-radius: 14px;
  border: 1px solid var(--btn-border);
  background: var(--btn-bg);
  color: var(--btn-text);
  box-shadow: var(--btn-glow);
  cursor: pointer;
  position: relative;
  transition: transform .15s ease, box-shadow .25s ease, filter .25s ease;
}
.btn-retake:hover{
  transform: translateY(-1.5px);
  filter: brightness(1.05);
}
.btn-retake:active{
  transform: translateY(0);
  filter: brightness(0.98);
}
.btn-retake:focus-visible{
  outline: 3px solid rgba(255,196,120,0.65);
  outline-offset: 2px;
  border-radius: 14px;
}

/* äº®é¢æƒå…‰æ•ˆæœ */
.btn-retake::before{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(120deg, rgba(255,255,255,0.25), transparent 30%, transparent 70%, rgba(255,255,255,0.20));
  opacity: 0; pointer-events:none;
  transition: opacity .25s ease;
  border-radius: inherit;
}
.btn-retake:hover::before{ opacity: .85; }

/* è¡Œå‹•è£ç½®å¾®èª¿ï¼šè®“å…©é¡†éˆ•åœ¨å°è¢å¹•ä»ä¿æŒä¸€è¡Œæˆ–è‡ªç„¶æ›è¡Œ */
@media (max-width: 420px){
  .actions-row{ gap: 8px; }
  .btn-retake{ flex: 1 1 auto; }
  #shareSection{ flex: 0 0 auto; }
}
</style>

<style>
/* === å°‡é‡æ–°æ¸¬é©—èˆ‡åˆ†äº«æŒ‰éˆ•ç½®ä¸­é¡¯ç¤º === */
.actions-row{
  justify-content: center;
  width: 100%;
  text-align: center;
}
</style>

<style>
/* === è®“ã€Œé‡æ–°æ¸¬é©—ã€èˆ‡ã€Œåˆ†äº«çµæœã€æŒ‰éˆ•å°ç¨±ï¼ˆç­‰å¯¬ï¼‰ä¸¦ç½®ä¸­ === */
.actions-row{
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  gap: 14px;
}
.actions-row > *{ margin: 0; }

/* ç­‰å¯¬ï¼šåœ¨å¤§å¤šæ•¸è¢å¹•ç¶­æŒä¸€è‡´è¦–è¦ºæ¯”ä¾‹ */
.actions-row .btn-retake,
.actions-row #shareBtn{
  width: 180px;          /* å›ºå®šç­‰å¯¬ï¼Œç¢ºä¿å°ç¨± */
  min-height: 48px;      /* ä¸€è‡´é«˜åº¦ */
  text-align: center;
}

/* å°è¢å¹•æ™‚ä¸€æ¨£å°ç¨±ï¼Œå¿…è¦æ™‚è‡ªå‹•æ›è¡Œ */
@media (max-width: 420px){
  .actions-row .btn-retake,
  .actions-row #shareBtn{
    width: 48%;
  }
}
</style>

<style>
/* === ä¿®æ­£ï¼šå…©é¡†æŒ‰éˆ•å°é½Šã€ç­‰é«˜ã€ç­‰å¯¬ã€ç½®ä¸­ === */
.actions-row{
  display: flex;
  justify-content: center;
  align-items: stretch;     /* å…ƒä»¶åŒé«˜ */
  flex-wrap: wrap;
  gap: 14px;
  width: 100%;
}
/* ç§»é™¤ shareSection çš„é¡å¤–é‚Šè·ï¼Œä¸¦è®“å…¶ä¸å¹²æ“¾å½ˆæ€§æ’åˆ— */
.actions-row #shareSection{
  margin: 0 !important;
  padding: 0 !important;
  display: contents;        /* è®“å…§éƒ¨æŒ‰éˆ•ç›´æ¥æˆç‚ºå½ˆæ€§å­å…ƒç´  */
}

/* çµ±ä¸€å…©é¡†æŒ‰éˆ•çš„å°ºå¯¸èˆ‡æ’ç‰ˆ */
.actions-row .btn-retake,
.actions-row #shareBtn,
.actions-row .btn-share{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5em;
  box-sizing: border-box;
  width: 200px;             /* ç­‰å¯¬ */
  min-height: 52px;         /* ç­‰é«˜ */
  padding: 12px 18px;
  font-size: 16px;
  line-height: 1;           /* å‚ç›´ç½®ä¸­æ›´ç²¾æº– */
  font-weight: 800;
  border-radius: 14px;
  border-width: 1px;
  border-style: solid;
}

/* åˆ†äº«æŒ‰éˆ•è¦–è¦ºï¼ˆå†·è‰²æ¼¸å±¤ï¼Œèˆ‡é‡æ–°æ¸¬é©—æš–è‰²äº’è£œï¼‰ */
.btn-share{
  --btn-bg: linear-gradient(135deg,#9cd3ff,#b9f1ff);
  --btn-text: #0d122b;
  --btn-border: rgba(255,255,255,0.55);
  --btn-glow: 0 10px 28px rgba(120,170,255,.40);
  background: var(--btn-bg);
  color: var(--btn-text);
  border-color: var(--btn-border);
  box-shadow: var(--btn-glow);
  transition: transform .15s ease, box-shadow .25s ease, filter .25s ease;
}
.btn-share:hover{ transform: translateY(-1.5px); filter: brightness(1.05); }
.btn-share:active{ transform: translateY(0); filter: brightness(0.98); }
.btn-share:focus-visible{
  outline: 3px solid rgba(150,210,255,0.65);
  outline-offset: 2px;
  border-radius: 14px;
}

/* å°è¢å¹•æ™‚ç¶­æŒå°ç¨±ï¼Œå¯è‡ªå‹•æ›è¡Œ */
@media (max-width: 420px){
  .actions-row .btn-retake,
  .actions-row .btn-share{ width: 48%; min-width: 140px; }
}
</style>
</head>
<body>
  <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
  <canvas id="space" aria-hidden="true"></canvas>
  <div class="nebula" aria-hidden="true"></div>

  <!-- é–‹å ´ç™½ -->
  <section id="intro">
    <h1 id="introText">
      <span>ğŸŒŒ æ¯å€‹ç”Ÿæ—¥æ•¸å­—ï¼Œéƒ½è—è‘—ä¸€æ®µéˆé­‚çš„æ—…ç¨‹â€¦</span>
      <span>ä»Šå¤©ï¼Œä½ å°‡å±•é–‹å±¬æ–¼è‡ªå·±çš„æ¢ç´¢ã€‚</span>
    </h1>
    <button id="startBtn" class="btn-primary">é–‹å§‹æ¢ç´¢</button>
  </section>

  <!-- è¡¨å–® -->
  <section id="formPage" class="hidden">
    <form id="testForm" class="form-card">
      <label>å§“å <input type="text" name="name" required></label>
      <label>æ€§åˆ¥
        <select name="gender" required>
          <option value="å¥³">å¥³</option>
          <option value="ç”·">ç”·</option>
          <option value="å…¶ä»–">å…¶ä»–</option>
        </select>
      </label>
      <label>ç”Ÿæ—¥ <input type="date" name="birthday" required></label>
      <button type="submit" class="btn-primary">é–‹å§‹æ¸¬é©—</button>
    </form>
  </section>

  <!-- çµæœ -->
  <section id="resultPage" class="hidden">
    <h2 id="resultTitle"></h2>
    <div id="resultCards"></div>
    <div class="actions-row"><button id="restartBtn" class="btn-retake">ğŸ” é‡æ–°æ¸¬é©—</button><div id="shareSection">
      <button id="shareBtn" class="btn-share">ğŸ”— åˆ†äº«çµæœ</button>
    </div>
    </div>
  </section>

  <!-- å»ºè­°ï¼šä¿ç•™åŸæª”å + åŠ å…¥ bg.mp3 å‚™æ´ -->
<audio id="bgm" preload="auto" loop>
  <source src="ä¸€å€‹äººéœéœçš„è½ å¿ƒéˆéŸ³æ¨‚[ç¡çœ è¼•éŸ³æ¨‚] - Sleep Music ç¡çœ è¼•éŸ³æ¨‚ (youtube).mp3" type="audio/mpeg" />
  <source src="bg.mp3" type="audio/mpeg" />
</audio>


  <!-- éŸ³æ¨‚æ§åˆ¶ï¼šé–‹é—œ + éŸ³é‡ -->
  <div class="audio-ui">
    <button id="musicToggle" class="music-toggle" aria-label="éŸ³æ¨‚é–‹é—œ" title="æ’­æ”¾/æš«åœèƒŒæ™¯éŸ³æ¨‚">ğŸ”‡</button>
    <div class="volume-wrap" aria-label="éŸ³é‡æ§åˆ¶" hidden>
      <span class="vol-label">éŸ³é‡</span>
      <input id="volume" type="range" min="0" max="100" step="1" value="35" />
      <span id="volVal" class="vol-val">35%</span>
    </div>
  </div>

  <script src="script.js"></script>

<script>
(function(){
  var body = document.body;
  var lastH = window.innerHeight;
  var THRESHOLD = 120; // å…¸å‹éµç›¤é«˜åº¦è®ŠåŒ–
  function onResize(){
    var now = window.innerHeight;
    if (Math.abs(now - lastH) > THRESHOLD){
      if (now < lastH) body.classList.add('keyboard-open');
      else body.classList.remove('keyboard-open');
      lastH = now;
    }
  }
  window.addEventListener('resize', onResize, {passive:true});
  document.addEventListener('focusin', function(e){
    if (e.target.matches('input,textarea,select')) body.classList.add('keyboard-open');
  }, {passive:true});
  document.addEventListener('focusout', function(e){
    if (e.target.matches('input,textarea,select')) body.classList.remove('keyboard-open');
  }, {passive:true});
})();
</script>
</body>
</html>